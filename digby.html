<html>
<head>
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/ratchet/2.0.2/css/ratchet.css" rel="stylesheet">
	<style>
		.content {
			background-color: #ccc;
		}
		.hilight {
			color: blue;
		}
		.card {
			padding: 1em;
		}
		h3, h4, h5 {
			text-align: center;
		}
		h5 {
			font-size: 16px;
			padding-top: 5px;
			padding-bottom: 5px;
			margin-top: 0px;
			background-color: lightsteelblue;
		}
		a {
			display: block;
		}
		.btn {
			margin-bottom: 0.75em;
			font-size: 16px;
			width: 40%;
			margin-left: 10px;
			margin-right: 10px;
			padding-top: 10px;
			padding-bottom: 10px;
		}
		.center {
			text-align: center;
		}
		.icon-download {
			float: left;
		}
	</style>

	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ratchet/2.0.2/js/ratchet.min.js"></script>
</head>

<body>

<div class="content">

	<p class="content-padded">

		<div class="card">
			<h3>Digby App Install Page</h3>
		</div>	

		<div class="card">
			<h5>Test Install Packages</h5>
			<div id="test-apps" class="center"></div>
		</div>

		<div class="card">
			<h5>Release Install Packages</h5>
			<div id="release-apps" class="center"></div>
		</div>

		<div class="card">
			<h5>Development Install Packages (deprecated)</h5>
			<div id="dev-apps" class="center"></div>
		</div>

		<div class="card">
			<h5>Production Install Packages (deprecated)</h5>
			<div id="prod-apps" class="center"></div>
		</div>

		<div class="card">
			<h5>Release Notes</h5>
			<p class="center">
				<a href="http://git.ent.oclc.org/projects/MOBILE/repos/digby/browse/RELEASE-NOTES.md">Release notes can be found here</a>
			</p>
		</div>

		<div class="card">
			<h5>Install certificate (iOS ONLY)</h5>
			<p>
				If you are testing in DEV you must first install this certificate.
				This is not required in PROD.
			</p>
			<p class="center">
				<a class="btn btn-primary btn-outlined" href="https://dl.dropboxusercontent.com/s/9dosh4l57nwh0on/oa-OACA01EWDU-CA.cer">
					<span class="icon icon-download"></span>&nbsp;CERTIFICATE
				</a>
			</p>
			<p>
				For <b>iOS</b> just follow the prompts. You also need to ENABLE FULL TRUST FOR ROOT CERTIFICATES under About -> Certificate Trust Settings.
 			</p>
		</div>

	</div>

</div>

</body>

</html>

<script>
var data = {
    "dev": [
		{    
			"title": "iOS 2.1.1",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/bvf3p8u523qwf3l/manifest.plist"
		},
        {
			"title": "Android 2.1.1",
            "url": "https://dl.dropboxusercontent.com/s/lf3gpbwl5xg6rhf/Digby.apk"
        },
		{    
			"title": "iOS 1.9.1",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/4knw5xj28ad8u0n/manifest.plist"
		},
        {
			"title": "Android 1.9.1",
            "url": "https://dl.dropboxusercontent.com/s/drplhmeofcc63ay/Digby.apk"
        },
		{
            "title": "iOS NIT",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/amfew5brdyc5vgs/manifest.plist"
        },
        {
            "title": "Android NIT",
            "url": "https://dl.dropboxusercontent.com/s/3cvo9b5ekya18hj/Digby.apk"
        }
    ],
    "prod": [
		{    
			"title": "iOS 2.1.1",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/iorgn3su5t4xj68/manifest.plist"
		},
        {
			"title": "Android 2.1.1",
            "url": "https://dl.dropboxusercontent.com/s/cd1m8bah67jq8gf/Digby.apk"
        },
		{    
			"title": "iOS 1.9.1",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/o6hapacdo0adav6/manifest.plist"
		},
        {
			"title": "Android 1.9.1",
            "url": "https://dl.dropboxusercontent.com/s/7ofjlfthf3ehvty/Digby.apk"
        }
    ],
    "test": [
		{    
			"title": "iOS 3.0.0",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/hc7ki9zyivyjzfw/manifest.plist"
		},
        {
			"title": "Android 3.0.0",
            "url": "https://dl.dropboxusercontent.com/s/qjfu4s9fdoan5cm/Digby.apk"
		}
	],
    "release": [
	{    
			"title": "iOS 3.0.0",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/8o6p87jgpgypzic/manifest.plist"
		},
        {
			"title": "Android 3.0.0",
            "url": "https://play.google.com/apps/testing/org.oclc.digby"
		}
	]	
};

$.each(data.dev, function(i, app) {
    $("#dev-apps").append('<a class="btn btn-primary btn-outlined" href="' + app.url 
        + '"><span class="icon icon-download"></span>&nbsp;' + app.title + '</a>');
});
$.each(data.prod, function(i, app) {
    $("#prod-apps").append('<a class="btn btn-primary btn-outlined" href="' + app.url + '">' + app.title + '</a>');
});
$.each(data.test, function(i, app) {
    $("#test-apps").append('<a class="btn btn-primary btn-outlined" href="' + app.url 
        + '"><span class="icon icon-download"></span>&nbsp;' + app.title + '</a>');
});
$.each(data.release, function(i, app) {
    $("#release-apps").append('<a href="' + app.url 
        + '"><span class="icon icon-download"></span>&nbsp;' + app.title + '</a>');
});
</script>
