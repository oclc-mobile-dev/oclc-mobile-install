<html>
<head>
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/ratchet/2.0.2/css/ratchet.css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css" rel="stylesheet">

	<style>
		.content {
			background-color: #ccc;
		}
		.hilight {
			color: blue;
		}
		.card {
			padding: 1em;
		}
		h5 {
			font-size: 16px;
			padding: 10px;
			margin-top: 0px;
			background-color: lightsteelblue;
		}
		a {
			display: block;
			line-height: 48px;
		}
		.icon-download {
			float: left;
			line-height: 48px;
		}
		i {
			width: 32px;
		}
	</style>

	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
</head>

<body>

<div class="content">

	<p class="content-padded">

		<div class="card">
			<h3 style="text-align: center">Digby App Install Page</h3>
		</div>	

		<div class="card">
			<h5>Test</h5>
			<div id="test-apps"></div>
		</div>

		<div class="card">
			<h5>Release</h5>
			<div id="release-apps"></div>
		</div>

		<div class="card">
			<h5>Release Notes</h5>
			<a href="http://git.ent.oclc.org/projects/MOBILE/repos/digby/browse/RELEASE-NOTES.md">Release notes can be found here</a>
		</div>

		<div class="card">
			<h5>Install certificate (iOS ONLY)</h5>
			<p>
				If you are testing in DEV you must first install these certificates.
				This is not required in PROD.
			</p>
			<p>
				<a href="https://dl.dropboxusercontent.com/s/ubtjgnm11fmgd2w/oclc.cer">
					<span class="icon icon-download"></span>&nbsp;NEW CERTIFICATE
				</a>
			</p>
			<p>
				<a href="https://dl.dropboxusercontent.com/s/9dosh4l57nwh0on/oa-OACA01EWDU-CA.cer">
					<span class="icon icon-download"></span>&nbsp;OLD CERTIFICATE
				</a>
			</p>
			<p>
				For <b>iOS</b> just follow the prompts. You also need to ENABLE FULL TRUST FOR ROOT CERTIFICATES under About -> Certificate Trust Settings.
 			</p>
		</div>

	</div>

</div>

</body>

</html>

<script>
var data = {
    "test": [
		{    
			"title": "<i class='fab fa-apple'></i>3.2.0",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/76d28ppjyhnieer/manifest.plist"
		},
        {
			"title": "<i class='fab fa-android'></i>3.2.0",
            "url": "https://dl.dropboxusercontent.com/s/g19bpi6kma4y82c/Digby.apk"
		},
		{    
			"title": "<i class='fab fa-apple'></i>3.1.2",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/yt1d5di2xsgadt7/manifest.plist"
		},
        {
			"title": "<i class='fab fa-android'></i>3.1.2",
            "url": "https://dl.dropboxusercontent.com/s/21nbywywgp1i77h/Digby.apk"
		}
	],
    "release": [
		{    
			"title": "<i class='fab fa-apple'></i><i class='fab fa-android'></i>Digby Beta Install",
            "url": "/oclc-mobile-install/digby-test.html"
		}
	]	
};

$.each(data.test, function(i, app) {
    $("#test-apps").append('<a href="' + app.url + '">' + app.title + '</a>');
});
$.each(data.release, function(i, app) {
    $("#release-apps").append('<a href="' + app.url + '">' + app.title + '</a>');
});
</script>
