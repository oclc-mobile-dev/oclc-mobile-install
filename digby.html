<html>
<head>
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/ratchet/2.0.2/css/ratchet.css" rel="stylesheet">
	<style>
		.content {
			background-color: #ccc;
		}
		.hilight {
			color: blue;
		}
		.card {
			padding: 1em;
		}
		h5 {
			font-size: 16px;
			padding: 10px;
			margin-top: 0px;
			background-color: lightsteelblue;
		}
		a {
			display: block;
			line-height: 48px;
		}
		.icon-download {
			float: left;
			line-height: 48px;
		}
	</style>

	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/ratchet/2.0.2/js/ratchet.min.js"></script> -->
</head>

<body>

<div class="content">

	<p class="content-padded">

		<div class="card">
			<h3 style="text-align: center">Digby App Install Page</h3>
		</div>	

		<div class="card">
			<h5>Test</h5>
			<div id="test-apps"></div>
		</div>

		<div class="card">
			<h5>Release</h5>
			<div id="release-apps"></div>
		</div>

		<div class="card">
			<h5>Development (deprecated)</h5>
			<div id="dev-apps"></div>
		</div>

		<div class="card">
			<h5>Production (deprecated)</h5>
			<div id="prod-apps"></div>
		</div>

		<div class="card">
			<h5>Release Notes</h5>
			<a href="http://git.ent.oclc.org/projects/MOBILE/repos/digby/browse/RELEASE-NOTES.md">Release notes can be found here</a>
		</div>

		<div class="card">
			<h5>Install certificate (iOS ONLY)</h5>
			<p>
				If you are testing in DEV you must first install this certificate.
				This is not required in PROD.
			</p>
			<p>
				<a href="https://dl.dropboxusercontent.com/s/9dosh4l57nwh0on/oa-OACA01EWDU-CA.cer">
					<span class="icon icon-download"></span>&nbsp;CERTIFICATE
				</a>
			</p>
			<p>
				For <b>iOS</b> just follow the prompts. You also need to ENABLE FULL TRUST FOR ROOT CERTIFICATES under About -> Certificate Trust Settings.
 			</p>
		</div>

	</div>

</div>

</body>

</html>

<script>
var data = {
    "dev": [
		{    
			"title": "2.1.1 - iOS",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/bvf3p8u523qwf3l/manifest.plist"
		},
        {
			"title": "2.1.1 - Android",
            "url": "https://dl.dropboxusercontent.com/s/lf3gpbwl5xg6rhf/Digby.apk"
        },
		{    
			"title": "1.9.1 - iOS",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/4knw5xj28ad8u0n/manifest.plist"
		},
        {
			"title": "1.9.1 - Android",
            "url": "https://dl.dropboxusercontent.com/s/drplhmeofcc63ay/Digby.apk"
        }
    ],
    "prod": [
		{    
			"title": "2.1.1 - iOS",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/iorgn3su5t4xj68/manifest.plist"
		},
        {
			"title": "2.1.1 - Android",
            "url": "https://dl.dropboxusercontent.com/s/cd1m8bah67jq8gf/Digby.apk"
        },
		{    
			"title": "1.9.1 - iOS",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/o6hapacdo0adav6/manifest.plist"
		},
        {
			"title": "1.9.1 - Android",
            "url": "https://dl.dropboxusercontent.com/s/7ofjlfthf3ehvty/Digby.apk"
        }
    ],
    "test": [
		{    
			"title": "3.0.0 - iOS",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/hc7ki9zyivyjzfw/manifest.plist"
		},
        {
			"title": "3.0.0 - Android",
            "url": "https://dl.dropboxusercontent.com/s/qjfu4s9fdoan5cm/Digby.apk"
		}
	],
    "release": [
		{    
			"title": "3.0.0 - Digby Beta Install",
            "url": "/oclc-mobile-install/digby-test.html"
		}
	]	
};

$.each(data.dev, function(i, app) {
    $("#dev-apps").append('<a href="' + app.url + '"><span class="icon icon-download"></span>&nbsp;' + app.title + '</a>');
});
$.each(data.prod, function(i, app) {
    $("#prod-apps").append('<a href="' + app.url + '"><span class="icon icon-download"></span>&nbsp;' + app.title + '</a>');
});
$.each(data.test, function(i, app) {
    $("#test-apps").append('<a href="' + app.url + '"><span class="icon icon-download"></span>&nbsp;' + app.title + '</a>');
});
$.each(data.release, function(i, app) {
    $("#release-apps").append('<a href="' + app.url + '">' + app.title + '</a>');
});
</script>
