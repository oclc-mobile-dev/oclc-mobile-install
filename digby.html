<html>
<head>
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/ratchet/2.0.2/css/ratchet.css" rel="stylesheet">
	<style>
		.content {
			background-color: #ccc;
		}
		.hilight {
			color: blue;
		}
		.card {
			padding: 1em;
		}
		h5 {
			font-size: 16px;
			padding: 10px;
			margin-top: 0px;
			background-color: lightsteelblue;
		}
		a {
			display: block;
			line-height: 48px;
		}
		.icon-download {
			float: left;
			line-height: 48px;
		}
	</style>

	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
</head>

<body>

<div class="content">

	<p class="content-padded">

		<div class="card">
			<h3 style="text-align: center">Digby App Install Page</h3>
		</div>	

		<div class="card">
			<h5>Test</h5>
			<div id="test-apps"></div>
		</div>

		<div class="card">
			<h5>Release</h5>
			<div id="release-apps"></div>
		</div>

		<div class="card">
			<h5>Old</h5>
			<div id="old-apps"></div>
		</div>

		<div class="card">
			<h5>Release Notes</h5>
			<a href="http://git.ent.oclc.org/projects/MOBILE/repos/digby/browse/RELEASE-NOTES.md">Release notes can be found here</a>
		</div>

		<div class="card">
			<h5>Install certificate (iOS ONLY)</h5>
			<p>
				If you are testing in DEV you must first install this certificate.
				This is not required in PROD.
			</p>
			<p>
				<a href="https://dl.dropboxusercontent.com/s/9dosh4l57nwh0on/oa-OACA01EWDU-CA.cer">
					<span class="icon icon-download"></span>&nbsp;CERTIFICATE
				</a>
			</p>
			<p>
				For <b>iOS</b> just follow the prompts. You also need to ENABLE FULL TRUST FOR ROOT CERTIFICATES under About -> Certificate Trust Settings.
 			</p>
		</div>

	</div>

</div>

</body>

</html>

<script>
var data = {
	"old": [
		{    
			"title": "2.1.1 PROD - iOS",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/iorgn3su5t4xj68/manifest.plist"
		},
        {
			"title": "2.1.1 PROD - Android",
            "url": "https://dl.dropboxusercontent.com/s/cd1m8bah67jq8gf/Digby.apk"
        },
		{    
			"title": "2.1.1 DEV - iOS",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/bvf3p8u523qwf3l/manifest.plist"
		},
        {
			"title": "2.1.1 DEV - Android",
            "url": "https://dl.dropboxusercontent.com/s/lf3gpbwl5xg6rhf/Digby.apk"
        }
    ],
    "test": [
		{    
			"title": "3.1.0 - iOS",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/00jdwhaon7qwnwo/manifest.plist"
		},
        {
			"title": "3.1.0 - Android",
            "url": "https://dl.dropboxusercontent.com/s/w1rr1o9cy9rudgi/Digby.apk"
		},
		{    
			"title": "3.0.3 - iOS",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/1cwlit5p7cbwyht/manifest.plist"
		},
        {
			"title": "3.0.3 - Android",
            "url": "https://dl.dropboxusercontent.com/s/t3ch1of0ks3j47i/Digby.apk"
		}
	],
    "release": [
		{    
			"title": "Digby Beta Install (3.0.2)",
            "url": "/oclc-mobile-install/digby-test.html"
		}
	]	
};

$.each(data.old, function(i, app) {
    $("#old-apps").append('<a href="' + app.url + '"><span class="icon icon-download"></span>&nbsp;' + app.title + '</a>');
});
$.each(data.test, function(i, app) {
    $("#test-apps").append('<a href="' + app.url + '"><span class="icon icon-download"></span>&nbsp;' + app.title + '</a>');
});
$.each(data.release, function(i, app) {
    $("#release-apps").append('<a href="' + app.url + '">' + app.title + '</a>');
});
</script>
