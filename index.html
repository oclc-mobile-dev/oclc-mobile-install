<html>
<head>
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/ratchet/2.0.2/css/ratchet.css" rel="stylesheet">
	<style>
		.content {
			background-color: #ccc;
		}
		.hilight {
			color: blue;
		}
		.card {
			padding: 1em;
		}
		h3, h4, h5 {
			text-align: center;
		}
		h4 {
			margin-top: 1em;
			padding-bottom: 5px;
			text-decoration: underline;
		}
		h5 {
			font-size: 16px;
			padding-top: 1em;
			padding-bottom: 1em;
			margin-top: 0px;
			background-color: lightsteelblue;
		}
		.btn {
			width: 90%;
			margin-bottom: 0.75em;
			font-size: 18px;
			padding-top: 1em;
			padding-bottom: 1em;
		}
		.center {
			text-align: center;
		}
		.icon-download {
			float: left;
		}
	</style>

	<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ratchet/2.0.2/js/ratchet.min.js"></script>
</head>

<body>

<div class="content">

	<div class="content-padded">

		<h3>Digby App Install Page</h3>

		<div class="card">
			
			<h5>Install Packages</h5>
			
			<h4>Development Versions</h4>
			<div id="dev-apps" class="center"></div>
			
			<h4>Production Versions</h4>
			<div id="prod-apps" class="center"></div>
		</div>
		
		<div class="card">
			<h5>Release Notes</h5>
			<p class="center">
				<a href="http://bit.ly/release-notes-digby">Release notes can be found here</a>
			</p>
		</div>

		<div class="card">
			<h5>Install certificate (iOS ONLY)</h5>
			<p>
				If you are testing in DEV you must first install this certificate.
				This is not required in PROD.
			</p>
			<p class="center">
				<a class="btn btn-primary btn-outlined" href="https://dl.dropboxusercontent.com/s/9dosh4l57nwh0on/oa-OACA01EWDU-CA.cer">
					<span class="icon icon-download"></span>&nbsp;CERTIFICATE
				</a>
			</p>
			<p>
				For <b>iOS</b> just follow the prompts. You also need to ENABLE FULL TRUST FOR ROOT CERTIFICATES under About -> Certificate Trust Settings.
 			</p>
		</div>

		<!-- <div class="card">
			<h5>Notes</h5>
			<p>
				In order to install the iOS version you MUST <a href="mailto:platform-dev@oclc.org?subject=Add My UDID">send the development team</a> the UDID of your iOS device.
				Follow the directions <a href="http://whatsmyudid.com">HERE</a>
				and we'll add you to our provisioning profile.
			</p>
			<p>
				If you are testing in DEV make sure you are connected to the OCLCEnterprise Wi-Fi.  Your account needs to be setup with the appropriate Active Directory flag to instruct it to connect to the correct network that has DEV acccess.
				Please <a href="mailto:platform-dev@oclc.org?subject=Help me test in DEV">email the development team</a> for assistance.
			</p>
			<p>
				The following test accounts can be used.
			</p>
			<p>
				OCPSB - 3300001/secret1 (admin role)<br>
				OCWMS - dougdavies/dougdavie$ (everyone role)<br>
				NDT7P - lender/lender123 (not in whitelist)<br>
			</p>
		</div> -->

	</div>

</div>

</body>

</html>

<script>
var data = {
    "dev": [
		{
            "title": "Digby for iPhone v1.8.0",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/vvbi1b7qpltjb8q/manifest.plist"
        },
        {
            "title": "Digby for Android v1.8.0",
            "url": "https://dl.dropboxusercontent.com/s/4tkrc6tuu0z975n/Digby.apk"
        },
		{
            "title": "Digby for iPhone v1.7.3",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/2f62uoy0ma8zdst/manifest.plist"
        },
        {
            "title": "Digby for Android v1.7.3",
            "url": "https://dl.dropboxusercontent.com/s/gg7asteo7k7ijtv/Digby.apk"
        },
        {
            "title": "Digby for iPhone v1.6.2",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/bciz8a230fnd3h6/manifest.plist"
        },
        {
            "title": "Digby for Android v1.6.2",
            "url": "https://dl.dropboxusercontent.com/s/qxpizvz05cuxmq5/Digby.apk"
        }
    ],
    "prod": [
		{
            "title": "Digby for iPhone v1.8.0",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/509elhg4y69sii2/manifest.plist"
        },
        {
            "title": "Digby for Android v1.8.0",
            "url": "https://dl.dropboxusercontent.com/s/w3aaee8dtg2eoy2/Digby.apk"
        },
		{
            "title": "Digby for iPhone v1.7.3",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/d1l2n1t12bwsvxk/manifest.plist"
        },
        {
            "title": "Digby for Android v1.7.3",
            "url": "https://dl.dropboxusercontent.com/s/3li44oat9eoyfwf/Digby.apk"
        },
        {
            "title": "Digby for iPhone v1.6.2",
            "url": "itms-services://?action=download-manifest&url=https://dl.dropboxusercontent.com/s/0708dqu0p5l7tgn/manifest.plist"
        },
        {
            "title": "Digby for Android v1.6.2",
            "url": "https://dl.dropboxusercontent.com/s/dcf8reetomoqquw/Digby.apk"
        }
    ]
};

$.each(data.dev, function(i, app) {
    $("#dev-apps").append('<a class="btn btn-primary btn-outlined" href="' + app.url 
        + '"><span class="icon icon-download"></span>&nbsp;' + app.title + '</a>');
});
$.each(data.prod, function(i, app) {
    $("#prod-apps").append('<a class="btn btn-primary btn-outlined" href="' + app.url 
        + '"><span class="icon icon-download"></span>&nbsp;' + app.title + '</a>');
});
</script>
